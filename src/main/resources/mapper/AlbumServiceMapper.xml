<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssm.dao.AlbumService">
    <resultMap id="AlbumResultMap" type="com.ssm.model.Album">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="album_id" jdbcType="BIGINT" property="albumId" />
        <result column="author_id" jdbcType="BIGINT" property="authorId" />
        <result column="create_at" jdbcType="BIGINT" property="createAt" />
        <result column="album_title" jdbcType="VARCHAR" property="albumTitle" />
        <result column="album_desc" jdbcType="LONGVARCHAR" property="albumDesc" />
    </resultMap>

    <select id="getUserCreatedAlbum" resultMap="AlbumResultMap" parameterType="long">
        SELECT album_id,author_id,create_at,album_title,album_desc FROM album
        WHERE author_id = #{userId,jdbcType=BIGINT};
    </select>

    <select id="getUserCollectedAlbum" resultMap="AlbumResultMap" parameterType="long">
        SELECT ab.album_id,ab.author_id,ab.create_at,ab.album_title,ab.album_desc FROM album as ab LEFT JOIN user_album as ua
        ON ab.album_id = ua.album_id AND ua.user_id = #{userId}
    </select>


</mapper>